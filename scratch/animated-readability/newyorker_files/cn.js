var googletag=window.googletag=window.googletag||{};if(window.googletag.cmd=window.googletag.cmd||[],function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),CN.ad=window.CN.ad||{},CN.ad.proximic=CN.ad.proximic||{},function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//segment-data.zqtk.net/conde-nast?url="+encodeURIComponent(window.location.href);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),CN.dart=window.CN.dart=function(e,t,n){var a,i=e(window),r={},o=[],d=!1,l=[],g=[],f=[],c=!1,p=0,u={},m=!1,h={ad:{},params:{},charmap:{},container:"_frame",dcopt:!0,frameurl:"/ads/newad.html",embed:!1,initialized:!1,ready:!1,pvid:Math.floor(1e13*Math.random()).toString(),sov:Math.floor(20*Math.random()+1).toString(),remote:"/services/dart/",retry:!1,gptCallback:void 0,gptEvent:[],contentType:"",useOneAdCall:!1,moat_isInteracting:!1,contentId:"",etfThreshold:0,triggerEFT:!1,etfCalledOnce:!1,version:"4.16.5",errors:[],interstitialDivCreated:!1,warnings:[],dfpRefresh:"0",maxDfpRefresh:100,adSeqTargeting:"1",adSeqCap:"1",socialKey:"",site:"",gptAdKey:3379,tiles:[],tile:0,transparency:!0,url:location.protocol+"//ad.doubleclick.net/adj/",zone:"",configFile:"/ads/cn.dartconfig.js",configLoaded:!1,configData:{},gptAdsParams:{},oneAdCallIInit:!1,domDelay:{defaultVal:1e3},deviceDefault:"desktop",gptAdSlotSizes:{desktop:{"728x90_topLargeDesktop":[[728,90],[970,66],[970,418],[970,250],[1140,380],[970,90]],"728x90_topDesktop":[[728,90],[970,66],[970,418],[970,250],[900,300],[970,90]],"728x90_topArticle":[[728,90],[970,66],[970,418],[970,90]],"728x90_topTablet":[[728,90],[690,230]],"728x90_bannerTablet":[[728,90]],"728x90_bannerDesktop":[[728,90]],"728x90_top":[[728,90],[970,418],[970,250],[980,300],[970,90],[970,66],[62,88],[88,31],[196,31],[2048,1534]],"728x90_bottom":[[728,91]],"728x90_nmtop":[[728,90],[865,165],[1300,250],[970,250],[970,66]],"728x91_contentbody":[[728,91],[2048,1535]],"728x92_contentbody":[[728,92],[2048,1536]],"970x418_top":[[970,418],[970,250],[980,300],[970,90],[970,66],[728,92],[88,31],[62,88],[196,31],[1140,380],[900,300]],"970x67_pushdown":[[728,92],[970,67],[970,419],[970,251],[970,91],[62,89],[88,32],[196,32],[1140,380],[900,300]],"300x250_side":[[300,250],[300,600],[300,1050]],"300x250_sideArticle":[[300,250],[300,600]],"300x250_boxDesktop":[[300,250]],"300x250_boxTablet":[[300,250]],"300x600_fullGalleryInterstitialTablet":[[300,600],[640,900]],"300x600_inlineGalleryInterstitialTablet":[[300,250],[630,639]],"300x600_interstitial_fullGalleryInterstitialTablet":[[300,600],[640,900]],"300x600_interstitial_inlineGalleryInterstitialTablet":[[300,250],[630,639]],"300x250_top":[[300,250],[300,600],[300,1050]],"300x250_bottom":[[300,251],[300,601],[300,1051]],"300x250_sponsor":[[300,250],[300,600]],"300x250_instream":[[300,255],[300,605],[300,1055]],"300x250_interstitial_top":[[300,252],[300,602],[440,330],[620,440],[900,600],[832,380]],"300x250_interstitial_full":[[300,252],[640,480],[1280,960]],"300x250_wmag":[[300,250],[300,600],[610,730]],"300x250_spot_c":[[300,253]],"300x250_left":[[300,254],[300,604]],"300x250_infeed1":[[300,250],[610,300]],"300x250_infeed2":[[300,251],[610,301]],"300x250_infeed3":[[300,252],[610,302]],"160x600_left":[[160,600],[200,700],[300,900]],"160x600_right":[[160,601],[200,701],[300,901]],"120x60_top":[[120,60]],"120x60_bottom":[[120,61]],"220x25_top":[[220,25]],"450x266_top":[[450,266]],"220x25_top_snap":[[230,96]],"220x25":[[230,96]],"1x1_top":[[1,1]],"3x1_top":[[447,100],[3,1]],"4x1_top":[[4,1]],"948x461_top":[[948,461]],"180x150_top":[[180,150]],"300x200_top":[[300,200]],"165x31_top":[[165,31]],"460x608":[[460,608],[460,150]],"320x50_top":[[300,50],[320,50],[300,150],[320,150],[300,259]],"320x51_bottom":[[300,51],[320,51],[300,151],[320,151],[300,251],[300,601]],"300x250_takeover_mobile":[[300,250],[320,250],[320,480]],"300x50_bannerMobile":[[300,50]],"300x250_boxMobile":[[300,250]],"300x250_interstitial_boxMobile":[[300,250]],"300x250_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x250_interstitial_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x50_wwd_top":[[300,50],[300,250]],"1300x250_top":[[1300,250]],"1300x98_top":[[1300,98]],"980x1100_top":[[980,1100]],"88x32_top":[[88,32]]},wideDesktop:{},mobile:{"320x50_top":[[300,50],[320,50],[300,150],[320,150],[300,259]],"320x51_bottom":[[300,51],[320,51],[300,151],[320,151],[300,251],[300,601]],"300x250_takeover_mobile":[[300,250],[320,250],[320,480]],"300x50_bannerMobile":[[300,50]],"300x250_boxMobile":[[300,250]],"300x250_interstitial_boxMobile":[[300,250]],"300x250_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x250_interstitial_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x50_wwd_top":[[300,50],[300,250]]},tablet:{}},isURLHasKeywords:!1},v="CN Ad ",y={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn",config:"Config file found"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw",config:"Config file not found"}},w={mark:function(e){this[e]=("start"===e,(new Date).getTime())}},b=function(e,t){return v+y[(t!==!1).toString()][e||"gen"]},k=function(e){var t,n=h.params,a="";for(t in n)n.hasOwnProperty(t)&&(n[t].noKey?a=n[t].refresh&&e.kws.length!==h.ad.kws.length?n[t].refresh(e):n[t].defaultValue+a:(a+=t+"=",a+=n[t].refresh&&e.kws.length!==h.ad.kws.length?n[t].refresh(e):n[t].defaultValue));return a},x=function(n,a){var i=n+a.sz,s=i+"_frame",d=!1;if(h.initialized||E("not initialized, but ads will load with no options"),""===n)return void h.errors.push({description:"Missing ad div id in CN.dart.call()",divID:n||"undefined",adSize:a.sz||"undefined",kws:a.kws||"undefined"});if(m===!1)for(var l=0;l<o.length;l++)if(o[l].adplacement===s){d=!0;break}if(d===!1||m===!0){var g=r[i]={tile:h.tiles.push(i),el:e("#"+i+h.container),kws:J(h.ad.kws,$.kws(a.kws)||[]),store:a.store===!1?!1:h.ad.store,sz:a.sz,isDrawn:!1,xkws:$.kws(a.kws)||[],zone:a.zone?$.adzone(a.zone):!1,collapse:a.collapse===!0},f=g.sz.split("x"),c=(location.pathname&&"/"!==location.pathname?location.pathname:"",h.zone?h.zone.replace(/;/gi,"/"):""),p=h.adUnit3?h.adUnit3.replace(/;/gi,"/"):void 0,v=h.adUnit4?h.adUnit4.replace(/;/gi,"/"):void 0;c&&(c=tt(c,p,v));for(var l=0;l<f.length;l++)f[l]=parseInt(f[l],10);if(m===!0){var y=!1;u.drawn===!0&&(y=!0),u={url:"/"+h.gptAdKey+"/"+h.site+c,adsize:f,adname:i,adplacement:s,tiles:g.tile,kws:g.kws,drawn:y,xkws:g.xkws},t.dart.renderGPTAds()}else o.push({url:"/"+h.gptAdKey+"/"+h.site+c,adsize:f,adname:i,adplacement:s,tiles:g.tile,kws:g.kws,drawn:!1,xkws:g.xkws}),S(g,c,"gptAds")}return this},T=function(e){return h.initialized?(n.warn(v+"Initialization called more than once.  This should only happen once per page."),!1):(w.mark("startInit"),void M(e))},C=function(e){var a,o=h.configLoaded&&h.configData.sponsorParameter?h.configData.sponsorParameter:["kw"];$.charmap(e.charmap),h.device=e.device?e.device:h.deviceDefault,h.initialized=!0,h.site=e.adUnits?e.adUnits.unit1:e.site,h.zone=$.adzone(e.adUnits?e.adUnits.unit2:e.zone),h.adUnit3=e.adUnits?"undefined"==typeof e.adUnits.unit3?void 0:$.adzone(e.adUnits.unit3):void 0,h.adUnit4=e.adUnits?"undefined"==typeof e.adUnits.unit4?void 0:$.adzone(e.adUnits.unit4):void 0,h.contentId=e.contentId,h.contentType=e.contentType,h.useOneAdCall=e.useOneAdCall||!1,h.gptCallback=e.gptCallback&&"function"==typeof e.gptCallback?e.gptCallback:function(e){n.info("Cid: "+e.creativeId+" is rendered to slot of size: "+e.size[0]+"x"+e.size[1])},a=Q(o,e),P(),h.ad={store:!0,kws:a,tile:h.tile},h.configLoaded&&h.configData.docReferrer&&N(),t.url.params("getAdLog",location.search)&&st(),z(),D(),B(),F.run(),h.configLoaded&&h.configData.refresh?("undefined"==typeof t.ad.viewableRefresh&&n.info(v+"Refresh plugin not installed",[]),h.configData.refresh.type&&"auto"===h.configData.refresh.type&&h.configData.refresh.refreshTimeMsec>0&&O(h.configData.refresh.refreshTimeMsec)):h.configLoaded&&h.configData.dartRefresh&&"undefined"!=typeof h.configData.dartRefresh.active&&h.configData.dartRefresh.dartRefreshTimeMsec>0&&O(h.configData.dartRefresh.dartRefreshTimeMsec),h.configData.minRefreshDurationMsec&&"undefined"!=typeof h.configData.minRefreshDurationMsec&&(h.startRefreshTimer=(new Date).getTime()),h.embed=e.embed||h.embed,h.embed&&n.info(b("embed",!0),[]),w.mark("init"),n.info(v+"Initialized",[r]),A(h.useOneAdCall),i.trigger("CN.customEvents.dartInitialized")},A=function(e){e?n.info(" CN dart using oneAdCall() ",[{}]):(n.info(" CN dart using call() ",[{}]),jQuery(function(){var e=setInterval(function(){for(var n=!1,a=t.dart.getGPTAds(),i=0;i<a.length;i++){var r=jQuery("#"+jQuery.trim(a[i].adplacement));if("interstitial1x1_frame"!==a[i].adplacement&&r.length>0&&""===r.html()){n=!0;break}}n===!0?t.dart.renderGPTAds():(t.dart.setGPTAdsRenderStatus(!0),clearInterval(e),jQuery(window).trigger("CN.customEvents.GPTAdsRendered"))},t.dart.getDomDelay())}))},_=function(){var n,a,i,r=0;for(n=t.dart.getGPTAds(),a=t.dart.getMoreAdsCollection(),i=e.extend(a,n);r<i.length;r++)0===e("#"+i[r].adplacement).length&&(w.mark("div_missing_"+i[r].adplacement),h.errors.push({description:"Missing ad div",divID:i[r].adplacement||"undefined"}))},S=function(t,n,a){var i=[1,1],r=i[0]+"x"+i[1],s="interstitial"+r,d=s+"_frame";0!==e("#"+d).length||h.interstitialDivCreated||(e("body").prepend('<div id="'+d+'" class="displayAd displayAd'+r+'Js" style="width:'+i[0]+'px;height: 0px;" data-cb-ad-id="'+d+'"></div>'),h.interstitialDivCreated=!0,h.warnings.push({description:"Ad library created 1x1 interstitial div",divID:"interstitial1x1_frame",adSize:"1x1",kws:""})),"gptAds"===a&&1===o.length&&o.push({url:"/"+h.gptAdKey+"/"+h.site+n,adsize:i,adname:s,adplacement:d,tiles:t.tile,kws:t.kws,drawn:!1,xkws:t.xkws})},z=function(){var e,t=document.referrer.match(/([^\/]+)/g)||[""],n={"(^|\\.)facebook.com$":"fb","(^|\\.)twitter.com$":"tw","(^|\\.)reddit.com$":"rd","(^|\\.)pinterest.com$":"pn","(^|\\.)instagram.com$":"ig","(^|\\.)plus.url.google.com$":"gpl","^t.co$":"tw"};if(e=t[1],"undefined"!=typeof e)for(prop in n)null!==e.match(prop)&&(h.socialKey=n[prop])},D=function(){setTimeout(function(){"object"==typeof s&&(s.eVar41=h.pvid)},200)},N=function(){var e=document.referrer.match(/([^\/]+)/g)||[""],t=e[e.length-1];t&&(t=t.replace(/\?.*$/g,"").replace(".html","","gi"),h.ad.kws[h.ad.kws.length]=""+$.kws("rfr_"+t))},R={options:{domain:t.url.domain(),path:"/"},check:function(e){return t.cookie.get(e)},read:function(e){var t=R.check(e);return""!==t?t:!1},remove:function(e){t.cookie.del(e,R.options)},write:function(e,n,a){R.options.expires=a,t.cookie.set(e,n,R.options)}},I=function(e,t,n){var a,i,r,o={},s=R.read(e);s?(n||("cn_adsqt"===e?n="adSeqTargeting":"cn_adcap"===e?n="adSeqCap":E("There is no ads tracking cookie: "+e)),o=JSON.parse(R.check(e)),a=Number(o.expire)-(new Date).getTime(),i=a/36e5,o.count=Number(o.count)+1,h[n]=""+o.count,o=JSON.stringify(o),R.write(e,o,i)):(r=6e4*t,a=(new Date).getTime()+r,o.count=Number(h[n]),o.expire=a,i=t/60,o=JSON.stringify(o),R.write(e,o,i))},P=function(){I("cn_adsqt",1380,"adSeqTargeting"),I("cn_adcap",10,"adSeqCap")},E=function(e,t){var t=t?t:[];n.warn(v+e,t),h.warnings.push(e)},q=function(e,t){var n,a={kw:"kw",contentId:"ctid",contentType:"cttp",dfpRefresh:"rfsh",adSeqTargeting:"sqt",CAP:"CAP",socialKey:"scl",pvid:"pvid"};if(arguments.length>1){googletag.pubads().setTargeting(e,t);for(var i in a)a[i]===e&&(h[i]=t)}else for(var i in e)n=a[i]?a[i]:i,googletag.pubads().setTargeting(n,e[i]),void 0!==h[i]&&(h[i]=e[i])},O=function(e){var i=e;if("undefined"!=typeof h.configData.overrides&&"undefined"!=typeof h.configData.overrides.refresh&&"undefined"!=typeof h.configData.overrides.refresh.zone){var r=h.zone.replace(/[^\w\s]/gi,"");for(prop in h.configData.overrides.refresh.zone)r===prop&&(i=h.configData.overrides.refresh.zone[prop].dartRefreshTimeMsec)}i&&(a=setInterval(function(){return h.configData.maxRefreshes&&"undefined"!=typeof h.configData.maxRefreshes&&Number(h.dfpRefresh)>=h.configData.maxRefreshes?(clearInterval(a),void n.info(v+"Max refreshes reached. Stopping refresh",[])):(t.dart.refresh(),void n.info(v+"Refreshed ",[]))},i),n.info(v+"Refresh Initialized to "+i+"ms",[]))},M=function(a){if(t.dart.inlineConfig)return j(t.dart.inlineConfig),C(a),void n.info(v+"inline dartConfig loaded",[]);var i=a.configFile?a.configFile:h.configFile;e.ajax({url:i,dataType:"json",async:!1,error:function(){n.info(b("config",!1),[]),h.configLoaded=!1},cache:!0,success:function(e){j(e)},complete:function(){n.info(v+"dartConfig call complete",[]),C(a)}})},j=function(e){var a=e[t.site.name];if(a){for(prop in a)if(h.configData[prop]=a[prop],"object"==typeof a[prop]&&null!==a[prop])for(prop2 in a[prop])if("object"==typeof a[prop][prop2]&&null!==a[prop][prop2])for(prop3 in a[prop][prop2])if("gptAdSlotSizes"===prop2)if("[object Array]"==Object.prototype.toString.call(a[prop][prop2][prop3])&&null!==a[prop][prop2][prop3])"undefined"==typeof h[prop2]?(h[prop2][h.deviceDefault]={},h[prop2][h.deviceDefault][prop3]=a[prop][prop2][prop3]):h[prop2][h.deviceDefault][prop3]=a[prop][prop2][prop3];else for(prop4 in a[prop][prop2][prop3])"undefined"==typeof h[prop2]?(h[prop2][prop3]={},h[prop2][prop3][prop4]=a[prop][prop2][prop3][prop4]):h[prop2][prop3][prop4]=a[prop][prop2][prop3][prop4];else"undefined"==typeof h[prop2]?(h[prop2]={},h[prop2][prop3]=a[prop][prop2][prop3]):h[prop2][prop3]=a[prop][prop2][prop3];h.configLoaded=!0,n.info(v+"config file loaded successfully",[])}else h.configLoaded=!1,E("Sitename not found in config file or refresh is disabled. Ads will not refresh"),w.mark("siteNameNotFound")},F={queue:[],register:function(e){return e&&e.init&&void 0!==e.isFinished&&e.callbacks?(this.queue.push(e),n.info(b("plug"),[e.name||"",e]),i.unbind("CN.customEvents.dartInitialized"),!0):(n.info(b("plug",!1),[e?e.name:"",e||{}]),!1)},run:function(){for(var e,t=0,a=this.queue.length;a>t;t++)e=this.queue[t],n.info(v+"Running Plugin",[e.name]),e.init({queue:this.queue,position:t,plugin:e})},finished:function(e,a,i){var r=0,o=e.data,s=o.queue.length,d=o.validate(i);for(n.info(b("valid",d),[a.name,i]);s>r;r++)if(o.queue[r].isFinished===!1)return n.info(b("finished",!1),[a.name]),!1;n.info(b("finished",!0)),L.call(t.dart)},validate:function(e){var t,n=!0;for(t in e)e.hasOwnProperty(t)&&(n=$[t]&&$[t](e[t])&&n);return n||!1}},L=function(){return h.ready=!0,w.mark("ready"),n.info(v+"Call State Set to Ready"),i.trigger("CN.customEvents.dartRequest"),this},V=function(e,t){if(h.moat_isInteracting)return void n.info(v+"refresh skipped user interacting",[]);if(h.configData.minRefreshDurationMsec&&"undefined"!=typeof h.configData.minRefreshDurationMsec){h.startRefreshTimer||(h.startRefreshTimer=(new Date).getTime()),h.startAutoRefreshTimer||(h.startAutoRefreshTimer=(new Date).getTime());var a=h.configData.minRefreshDurationMsec,i=(new Date).getTime()-h.startRefreshTimer,r=(new Date).getTime()-h.startAutoRefreshTimer;if(h.startRefreshTimer=(new Date).getTime(),a>i&&a>r)return}if(t&&(t.contentType&&q("cttp",t.contentType),t.lazyload&&googletag.pubads().setTargeting("ll",t.lazyload)),h.isURLHasKeywords===!1){var s=[],d=e?e.toString().split(/,|\s+/):[];if(h.embed)return this;if(e&&0!==d.length)for(var g=0;g<d.length;g++)for(var f=0;f<o.length;f++)if(o[f].adname.toString()===d[g].toString()){o[f].lazyDisplay=!0,s.push(o[f].slot);break}s&&0!==s.length?googletag.pubads().refresh(s):(Math.round(h.dfpRefresh)<h.maxDfpRefresh&&H(),I("cn_adsqt",1380,"adSeqTargeting"),googletag.pubads().setTargeting("sqt",h.adSeqTargeting),googletag.pubads().setTargeting("rfsh",h.dfpRefresh),googletag.pubads().refresh(l))}return h.startAutoRefreshTimer=(new Date).getTime(),this},G=function(e){var t=e?e.toString().split(/,|\s+/):[];if(e&&0!==t.length)for(var n=0;n<t.length;n++)for(var a=0;a<l.length;a++)l[a].b.d.toString()===t[n].toString()+"_frame"&&l.splice(a,1);else l=[]},U=function(t){var a=t?t.toString().split(/,|\s+/):[];if(t&&0!==a.length)for(var i=0;i<a.length;i++)for(var r=0;r<o.length;r++)o[r].adname.toString()===a[i].toString()&&(googletag.pubads().clear(o[r].slot),delete o[r],o.splice(r,1),G(a[i].toString()),e("#"+t.toString()+"_frame").empty(),n.info(v+t+" ad slot removed",[]));else googletag.pubads().clear(),o={};return this},K=function(e,t){var a,i=[];for(key in e){var r,s,d,g;d=e[key].sz.split("x"),d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10),a=key.toString(),g=key+"_frame",r=e[key].kws&&e[key].kws.length>1?"_"+e[key].kws[1]:"",s=e[key].kws&&e[key].kws.length>=1?h.gptAdSlotSizes[h.device][e[key].sz+"_"+e[key].kws[0]+r]:h.gptAdSlotSizes[h.device][e[key].sz],"undefined"==typeof s&&(s=[d[0],d[1]]),t?(googletag.cmd.push(function(){i.push(googletag.defineSlot(URIZone,s,key).addService(googletag.pubads()))}),n.info(v+key+" ad call zone changed ",[])):(googletag.cmd.push(function(){i.push(googletag.defineSlot(o[1].url,s,g).addService(googletag.pubads()).setTargeting("st",key))}),googletag.cmd.push(function(){googletag.display(g)}),n.info(v+key+" ad slot appended",[])),o.push({url:o[1].url,adsize:d,adname:key,adplacement:g,tiles:"",kws:e[key].kws,drawn:!1,xkws:r,slot:i[0]}),l.push(i[0])}return this},Q=function(e,n){var a,i,r=[];if("string"==typeof e){var o=e.split();e=o}for(a=0;a<e.length;a++)t.url.params(e[a],location.search)?(r.push($.kws(t.url.params(e[a],location.search))),h.isURLHasKeywords=!0):(i=$.kws(n.kws),h.isURLHasKeywords=!1);return r.length>0&&(i=$.kws(r.join().split(","))),i},H=function(){var e=Math.round(h.dfpRefresh),e=e+1,e=""+e;h.dfpRefresh=e},B=function(){var e;for(e in r)r.hasOwnProperty(e)&&(r[e].kws=J(h.ad.kws,r[e].kws))},$=function(){var e=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,n=function(e){if(t.site.testads)return h.site;for(var n=e.split("."),a=h.site.split("."),i=0,r=a.length>n.length?a.length:n.length,o=[];r>i;i++)o[i]=n[i]||a[i];return o.join(".")},a=/^https?:/,i=/;$|$/,r=new RegExp(t.site.testads?"testads;$":"[\\w_;]+$"),o=function(e){var t,n=h.charmap;if(r.test(e)){for(t in n)n.hasOwnProperty(t)&&(e=e.replace(new RegExp(t,"gi"),n[t]));return e.replace(i,";")}return E("CN Dart zoneResolver",["Invalid Dart Zone",e]),e},s=function(e){var t,n=h.charmap;for(t in n)n.hasOwnProperty(t)&&(e=e.replace(new RegExp(t,"gi"),n[t]));return e};return{ad:function(e){return e.kws?(h.ad.kws=jQuery.isArray(e.kws)?J(e.kws):h.ad.kws,B(),!0):!1},addparam:function(e){var t,n,a;if(!e)return!1;for(n="[object Array]"===Object.prototype.toString.call(e)?e:[e],a=0;a<n.length;a+=1){if(!n[a].pKey)return!1;t={},t.defaultValue=n[a].pValue,t.refresh=n[a].refresh,t.noKey=n[a].noKey||!1,h.params[n[a].pKey]=t}return!0},charmap:function(t){var n,a=h.charmap={};for(n in t)t.hasOwnProperty(n)&&(a[n.replace(e,"\\$1")]=t[n]);return!0},dcopt:function(e){return t.isBoolean(e)?(h.dcopt=e,!0):!1},embed:function(e){return t.isBoolean(e)?(h.embed=e,!0):!1},site:function(e){return h.site=n(e),!0},url:function(e){return t.isString(e)?(h.url=e.replace(a,location.protocol),!0):!1},zone:function(e){var t=o(e);return t?(h.zone=t,!0):!1},adzone:o,kws:function(e){for(var t=e?[].concat(e):[],n=0,a=t.length;a>n;n++)t[n]=s(t[n]);return t}}}(),J=function(){for(var e,t=0,n=[].concat.apply([],arguments).sort(),a=n.length;a>t;t++)e=n.shift(),n[0]!==e&&n.push(e);return W(n.join(",")).split(",")},W=function(e){return e.replace(/^,|\s*|,^/g,"")},Z={init:function(e,a,i){return!a||h.initialized?(n.info(v+"Remote Init error.  No calls will be made.",["site : "+e]),this):(h.frameurl=e+h.frameurl,h.remoteSite=e,h.remoteInit=e+h.remote+"init/"+a+"/kw="+t.url.path().join(";kw=")+";"+i,void Y(h.remoteInit))}},Y=function(e){document.write('<script type="text/javascript" src="'+e+'"></script>')},X=function(){var n=h.device;if(m===!1){for(var a=0;a<o.length;a++)if(o[a].drawn===!1){var i=void 0;if("interstitial1x1_frame"===o[a].adplacement)i=googletag.defineOutOfPageSlot(o[a].url,o[a].adplacement).addService(googletag.pubads());else{var r=o[a].xkws&&o[a].xkws.length>1?"_"+o[a].xkws[1]:"",s=o[a].xkws&&o[a].xkws.length>=1?h.gptAdSlotSizes[n][o[a].adsize[0]+"x"+o[a].adsize[1]+"_"+o[a].xkws[0]+r]:h.gptAdSlotSizes[n][o[a].adsize[0]+"x"+o[a].adsize[1]];i=s&&0!==s.length?googletag.defineSlot(o[a].url,s,o[a].adplacement).addService(googletag.pubads()).setTargeting("st",o[a].adname).setCollapseEmptyDiv(!0,!0):googletag.defineSlot(o[a].url,o[a].adsize,o[a].adplacement).addService(googletag.pubads()).setTargeting("st",o[a].adname).setCollapseEmptyDiv(!0,!0)}o[a].slot=i,o[a].drawn=!0,h.gptAdsParams.kw||(h.gptAdsParams.kw=[]);for(var d=0;d<o[a].kws.length;d++)h.gptAdsParams.kw.push(o[a].kws[d]);if(a===o.length-1){var l,g=k(o[0]),f=t.cookie.get("aam_uuid");if(g&&-1!==g.indexOf("=")){g.indexOf(";")&&(l=g.split(";"));for(var d=0;d<l.length;d++)if(""!==e.trim(l[d])&&-1!==l[d].indexOf("=")){var c=l[d].split("=");googletag.pubads().setTargeting(c[0],c[1])}}if(t.slideshow&&h.gptAdsParams.kw.push("slideshow"),f&&googletag.pubads().setTargeting("aamId",f),h.gptAdsParams.kw){for(var p=0;p<h.ad.kws.length;p++)h.gptAdsParams.kw.push(h.ad.kws[p]);h.gptAdsParams.kw=J(h.gptAdsParams.kw),googletag.pubads().setTargeting("kw",h.gptAdsParams.kw)}googletag.pubads().setTargeting("ctid",h.contentId),googletag.pubads().setTargeting("cttp",h.contentType),googletag.pubads().setTargeting("rfsh",h.dfpRefresh),googletag.pubads().setTargeting("sqt",h.adSeqTargeting),googletag.pubads().setTargeting("CAP",h.adSeqCap),googletag.pubads().setTargeting("scl",h.socialKey),googletag.pubads().setTargeting("pvid",h.pvid),googletag.pubads().setTargeting("sov",h.sov),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",h.gptCallback),googletag.pubads().addEventListener("slotRenderEnded",function(e){h.gptEvent.push(e),w.mark("GPTAdsRendered"),h.etfCalledOnce||nt()})}}}else{var l,i,g=k(u),r=u.xkws&&u.xkws.length>1?"_"+u.xkws[1]:"",s=u.xkws&&u.xkws.length>=1?h.gptAdSlotSizes[n][u.adsize[0]+"x"+u.adsize[1]+"_"+u.xkws[0]+r]:h.gptAdSlotSizes[n][u.adsize[0]+"x"+u.adsize[1]],f=t.cookie.get("aam_uuid");if(u.served=!1,i=s&&0!==s.length?googletag.defineSlot(u.url,s,u.adplacement).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0):googletag.defineSlot(u.url,u.adsize,u.adplacement).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0),u.slot=i,u.drawn=!0,f&&googletag.pubads().setTargeting("aamId",f),g&&-1!==g.indexOf("=")){g.indexOf(";")&&(l=g.split(";"));for(var d=0;d<l.length;d++)if(""!==e.trim(l[d])&&-1!==l[d].indexOf("=")){var c=l[d].split("=");googletag.pubads().setTargeting(c[0],c[1])}}}},et=function(e,t){if("undefined"==typeof e)return E("no ad parameters were passed in."),!1;if(!h.initialized)return E("ads library needs to be initialized first."),!1;if(h.oneAdCallIInit)return E("oneAdCall() should only be used once per page. Please consider using moreAds()."),w.mark("oneAddCallUsedMoreThanOnce"),!1;for(key in e){var n=key,a=e[key];x(n,a)}"undefined"==typeof googletag.defineSlot?setTimeout(function(){X(),dt(),m=!0,t&&q(t),jQuery(window).trigger("CN.customEvents.GPTAdsRendered")},1e3):setTimeout(function(){X(),dt(),m=!0,t&&q(t),jQuery(window).trigger("CN.customEvents.GPTAdsRendered")},300),h.oneAdCallIInit=!0},tt=function(e,t,n){return e&&("/"!==e.charAt(0)&&(e="/"+e),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),t&&("/"!==t.charAt(0)&&(t="/"+t),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),e+=t),n&&("/"!==n.charAt(0)&&(n="/"+n),"/"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),e+=n)),e},nt=function(){function e(e,t){return Math.floor(Math.random()*(t-e+1))+e}var t,n,a;return t=!1,h.etfCalledOnce=!0,a=e(1,100),"undefined"!=typeof h.configData.etfThreshold&&parseInt(h.configData.etfThreshold,10)>0&&(n=parseInt(h.configData.etfThreshold,10),n>=a&&(h.triggerEFT=!0,_(),at())),t},at=function(){var a,i;a=function(){e.ajax({type:"GET",url:"//event.condenastdigital.com/images/event.gif?"+i(),error:function(){n.info("ETF track error",[])},cache:!1,success:function(){n.info("ETF track success")},complete:function(){n.info("ETF call complete")}})},i=function(){function n(){var e,t=navigator.appName,n=navigator.userAgent,a=n.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*(\.?\d+(\.\d+)*)/i);return a&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(a[2]=e[1]),a=a?[a[1],a[2]]:[t,navigator.appVersion,"-?"],a.toString()}var a,i;return i=e.param(t.dart.timer,!0),i=i.replace(/&/g,"|"),a={e0_id:h.pvid,e0_ec:"abandoned",e0_env:"dart",e0_sc:t.site.name,e0_ct:h.version.toString(),e0_tit:n(),e0_sctn:"contentType="+h.contentType+"|contentId="+h.contentId+"|useOneAdCall="+h.useOneAdCall+"|zone="+h.zone,e0_url:i},e.param(a)},a()},it=function(){var n,a=k(o[0]),i=t.cookie.get("aam_uuid");if(a&&-1!==a.indexOf("=")){a.indexOf(";")&&(n=a.split(";"));for(var r=0;r<n.length;r++)if(""!==e.trim(n[r])&&-1!==n[r].indexOf("=")){var s=n[r].split("=");googletag.pubads().setTargeting(s[0],s[1])}}if(i&&googletag.pubads().setTargeting("aamId",i),h.gptAdsParams.kw){for(var d=0;d<h.ad.kws.length;d++)h.gptAdsParams.kw.push(h.ad.kws[d]);h.gptAdsParams.kw=J(h.gptAdsParams.kw),googletag.pubads().setTargeting("kw",h.gptAdsParams.kw)}googletag.pubads().setTargeting("ctid",h.contentId),googletag.pubads().setTargeting("cttp",h.contentType),googletag.pubads().setTargeting("rfsh",h.dfpRefresh),googletag.pubads().setTargeting("sqt",h.adSeqTargeting),googletag.pubads().setTargeting("CAP",h.adSeqCap),googletag.pubads().setTargeting("scl",h.socialKey),googletag.pubads().setTargeting("pvid",h.pvid),googletag.pubads().setTargeting("sov",h.sov),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",h.gptCallback),googletag.pubads().addEventListener("slotRenderEnded",function(e){h.gptEvent.push(e),w.mark("GPTAdsRendered"),h.etfCalledOnce||nt()})},rt=function(e,t){var a,i,r=[],s=0;if(!h.initialized)return void E("ads library needs to be initialized first.");if("undefined"==typeof e)return void E("missiing ad parameters object.");h.interstitialDivCreated||it(),t?(a="/"+h.gptAdKey+"/"+h.site+tt(t.adUnit2,t.adUnit3,t.adUnit4),t.contentType&&q("cttp",t.contentType),i=$.kws(t.targetKws)||[],googletag.pubads().setTargeting("kw",i),t.disableTracking&&"undefined"!=typeof t.disableTracking||(P(),googletag.pubads().setTargeting("sqt",h.adSeqTargeting))):(P(),googletag.pubads().setTargeting("sqt",h.adSeqTargeting));for(key in e){var d,l,f;f=e[key].sz.split("x"),f[0]=parseInt(f[0],10),f[1]=parseInt(f[1],10),d=e[key].kws&&e[key].kws.length>1?"_"+e[key].kws[1]:"",l=e[key].kws&&e[key].kws.length>=1?h.gptAdSlotSizes[h.device][e[key].sz+"_"+e[key].kws[0]+d]:h.gptAdSlotSizes[h.device][e[key].sz],"undefined"==typeof l&&(l=[f[0],f[1]]),t?(googletag.cmd.push(function(){r.push(googletag.defineSlot(a,l,key).addService(googletag.pubads()))}),n.info(v+key+" ad call zone changed ",[])):googletag.cmd.push(function(){r.push(googletag.defineSlot(o[1].url,l,key).addService(googletag.pubads()))}),googletag.cmd.push(function(){googletag.display(key)}),n.info(v+key+" ad call requested ",[]),g.push({adplacement:key,slot:r,adsize:f,slotIndex:s}),s++,h.interstitialDivCreated||(S({},a,"moreAdSlots"),googletag.cmd.push(function(){r.push(googletag.defineOutOfPageSlot(a,"interstitial1x1_frame").addService(googletag.pubads()))}),googletag.cmd.push(function(){googletag.display("interstitial1x1_frame")}),g.push({adplacement:"interstitial1x1_frame",slot:r,adsize:[1,1],slotIndex:s}),s++,m=!0)}googletag.pubads().setTargeting("CAP",h.adSeqCap),googletag.pubads().refresh(r)},ot=function(e,t){var a,i,r;if(a=[],i=e?e.toString().split(/,|\s+/):[],"undefined"==typeof e)return void n.warn(v+" moreAds cannot refresh. Missing ad param");if(t&&(r=t.contentType||"",googletag.pubads().setTargeting("cttp",r),n.info(v+"New Content type: "+r)),e&&0!==i.length)for(var o=0;o<i.length;o++)for(var s=0;s<g.length;s++)if(g[s].adplacement.toString()===i[o].toString()){a.push(g[s].slot[g[s].slotIndex]),n.info(v+"refreshing "+g[s].adplacement+" moreAds");break}a&&0!==a.length&&(Math.round(h.dfpRefresh)<h.maxDfpRefresh&&H(),googletag.pubads().setTargeting("rfsh",h.dfpRefresh),googletag.pubads().refresh(a))},st=function(){var e,n;setTimeout(function(){e=window.open("","","_blank"),n=t.dart.getAdLog(),n.configFileData=void 0,n=JSON.stringify(n,null,4),e.document.body.innerHTML="<pre>"+n+"</pre>"},5e3)},dt=function(){var n=[];if(m!==!1||d)if("undefined"!=typeof u.xkws)if(I("cn_adsqt",1380,"adSeqTargeting"),Math.round(h.dfpRefresh)<h.maxDfpRefresh&&H(),googletag.pubads().setTargeting("sqt",h.adSeqTargeting),googletag.pubads().setTargeting("ctid",h.contentId),googletag.pubads().setTargeting("cttp",h.contentType),googletag.pubads().setTargeting("rfsh",h.dfpRefresh),googletag.pubads().setTargeting("sqt",h.adSeqTargeting),googletag.pubads().setTargeting("CAP",h.adSeqCap),googletag.pubads().setTargeting("scl",h.socialKey),googletag.pubads().setTargeting("pvid",h.pvid),googletag.pubads().setTargeting("sov",h.sov),googletag.pubads().setTargeting("kw",u.kws),"interstitial"===e.trim(u.xkws[0])&&u.adsize[0]+"x"+u.adsize[1]=="300x250")if(0===p){for(var a=0;a<o.length;a++)googletag.cmd.push(function(){googletag.display(o[a].adplacement)}),n.push(o[a].slot);googletag.cmd.push(function(){googletag.display(u.adplacement)}),u.served=!0,n.push(u.slot),f=n,c=!1,p+=1}else googletag.pubads().refresh(f),c=!0;else googletag.cmd.push(function(){googletag.display(u.adplacement)}),n.push(u.slot),c=!1;else"undefined"!=typeof u.xkws&&(googletag.cmd.push(function(){googletag.display(u.adplacement)}),n.push(u.slot),c=!1);else{for(var a=0;a<o.length;a++)"undefined"!=typeof t.ad.viewableRefresh&&"undefined"!=typeof h.configData.refresh&&"undefined"!=typeof h.configData.refresh.lazyLoad&&h.configData.refresh.lazyLoad?t.ad.viewableRefresh.inViewportFirstLoad(e("#"+o[a].adplacement).get(0))&&(googletag.cmd.push(function(){googletag.display(o[a].adplacement)}),o[a].lazyDisplay=!0,n.push(o[a].slot),l.push(o[a].slot)):(googletag.cmd.push(function(){googletag.display(o[a].adplacement)}),o[a].lazyDisplay=!0,n.push(o[a].slot),l.push(o[a].slot));w.mark("MasterAdSize:"+o[0].adplacement),d||(d=!0)}d&&!c&&(googletag.pubads().refresh(n),c=!0,w.mark("GPT_SRA_Called"))};return i.one("CN.customEvents.dartInitialized",L),i.bind("CN.customEvents.dartPlugin",F,F.finished),w.mark("start"),{call:x,oneAdCall:et,moreAds:rt,getMoreAdsCollection:function(){return g},moreAdsRefresh:ot,getGPTAds:function(){return o},getDomDelay:function(){var e=t.url.path(),n=h.domDelay.defaultVal;for(prop in h.domDelay)"defaultVal"!==prop&&prop===e.join("")&&(n=h.domDelay[prop]);return n},getGPTCustomParams:function(){return{aamId:t.cookie.get("aam_uuid"),kw:h.gptAdsParams.kw,ctid:h.contentId,cttp:h.contentType,rfsh:h.dfpRefresh,CAP:h.adSeqCap,scl:h.socialKey}},getAdLog:function(){function n(e){var t;return t="undefined"==typeof e?"NA":e}var a,i,r,o={},s=0,d=h.gptAdSlotSizes[h.device];for(a=t.dart.getGPTAds(),i=t.dart.getMoreAdsCollection(),r=e.extend(i,a);s<r.length;s++){if(r[s].xkws)var l=r[s].xkws,g=r[s].adsize,f=l.length>1?"_"+l[1]:"",c=l.length>=1?d[g[0]+"x"+g[1]+"_"+l[0]+f]:d[g[0]+"x"+g[1]];
o[r[s].adplacement]=h.gptEvent[s]?0===jQuery("#"+r[s].adplacement).length?{adEmpty:n(h.gptEvent[s].isEmpty),creativeID:h.gptEvent[s].creativeId||"NA",linedItem:h.gptEvent[s].lineItemId||"NA",adSize:h.gptEvent[s].size||"NA",adSlotArray:c,error:n(h.gptEvent[s].isEmpty)?"none":"DFP ad returned but page div id ["+r[s].adplacement+"] not found"}:{adEmpty:n(h.gptEvent[s].isEmpty),creativeID:h.gptEvent[s].creativeId||"NA",linedItem:h.gptEvent[s].lineItemId||"NA",adSize:h.gptEvent[s].size||"NA",adSlotArray:c,error:"none"}:"Ad not called for this placement"}return _(),{site:h.site,adLibVersion:h.version,useOneAdCall:h.useOneAdCall,errors:h.errors,ETFTriggered:h.triggerEFT,warnings:h.warnings,masterAd:r[0].adplacement,dfpParams:{kw:h.gptAdsParams.kw,ctid:h.contentId,cttp:h.contentType,rfsh:h.dfpRefresh,sqt:h.adSeqTargeting,CAP:h.adSeqCap,scl:h.socialKey,pvid:h.pvid},configFileLoaded:h.configLoaded,configFileData:h.configData,pageAdCalls:o}},getAdLogWin:st,getSlideShowAds:function(){return u},renderGPTAds:function(){googletag.cmd.push(function(){X()}),dt()},setGPTAdsRenderStatus:function(e){m=e},getGPTAdsRenderStatus:function(){return m},refreshDynamicAd:function(e,n){var a=t.dart.getSlideShowAds();"string"==typeof e&&"undefined"!==a&&e===a.adname&&(n&&q(n),googletag.pubads().refresh([a.slot]))},timer:w,refresh:V,get:function(e){e=[].concat(e);for(var t,n=0,a=e.length,i={};a>n;n++)t=e[n],i[t]=h[t]||h[t]===!1?h[t]:void 0;return a>1?i:i[t]},getCommon:function(){return h},buildTracking:I,trackETF:at,enableETF:nt,removeAdSlot:U,appendAdSlot:K,init:T,ready:L,register:function(e){var t,n=0;if(!e)return this;for(e=[].concat(e),t=e.length;t>n;n++)F.register(e[n]);return this},remote:Z,test:$}}(jQuery,CN,CN.debug),CN.dart.ipad=function(e,t,n){var a=".ipad",i=function(){var e=0,i=r.callbacks.length,o=t.get("configData").noiPadToDartSite,s=t.get("site").split(".").indexOf("mobile"),d="undefined"==typeof o?!1:o===!0?!0:!1;if(d)return n.info(r.name+" override .ipad from site",[{}]),this;if(1===s)return n.info(r.name+" mobile site. No .ipad ext added",[{}]),this;for(r.isFinished=!0,jQuery(window).trigger("CN.customEvents.dartPlugin",[r,{site:CN.dart.get("site")+a}]);i>e;e++)r.callbacks[e].func.apply(r.callbacks[e].scope||null,r.callbacks[e].args||[])},r={init:-1!==e.indexOf("ipad")?i:!1,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:-1===e.indexOf("ipad")};return r}(navigator.userAgent.toLowerCase(),CN.dart,CN.debug),CN.dart.moatListener=function(e,t,n){var a,i=t.getGPTAds(),r=t.getCommon(),o=function(){var o=t.get("configData").enableMoatRefresh,s="undefined"==typeof o?!1:o===!0?!0:!1;return s?void(window.moatCondeListener=function(t){for(var n=0;n<i.length;n++)if(t.adKeywords.zMoatST===i[n].adname){var a={};i[n].isInView=t.isInView,i[n].isInteracting=t.isInteracting,a.adname=i[n].adname,a.inView=i[n].isInView,a.isInteracting=i[n].isInteracting,e(window).on("CN.customEvents.moatInView",function(e,t){r.moat_isInteracting=t.isInteracting}).trigger("CN.customEvents.moatInView",[a])}}):(n.info(a.name+" disbabled",[{}]),this)};return a={init:o,name:"CN Ad MOAT Listener",callbacks:[],isFinished:!1}}(jQuery,CN.dart,CN.debug),CN.dart.suppression=function(){var e,t=CN.url.params(),n=!1,a=function(){var t=0,a=e.callbacks.length;for(e.isFinished=!0,jQuery(window).trigger("CN.customEvents.dartPlugin",[e,n]);a>t;t++)e.callbacks[t].func.apply(e.callbacks[t].scope||null,e.callbacks[t].args||[])};return("1"===t.npu||t.mbid&&t.mbid.match(/yhoo|google[1-5]?$/))&&(n={dcopt:!1}),e={init:n?a:!1,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!n}}(),CN.dart.register([CN.dart.ipad,CN.dart.suppression,CN.dart.moatListener]),CN.dart.inlineConfig={newyorker:{etfThreshold:5,dartRefresh:!1,dartRefreshTimeMsec:0,slideShowAdsRefresh:!0,minRefreshDurationMsec:45e6,sponsorParameter:["kw","mvi"],docReferrer:!0,overrides:{gptAdSlotSizes:{"300x252_middleindex":[[300,52],[320,52],[300,152],[320,152]],"300x250_2ndBox":[[300,251],[300,601],[300,1051]],"320x50_topBanner":[[300,50],[320,50],[300,150],[320,150]],"300x250_topBox":[[300,250],[300,600],[300,1050]],"320x251_topBox":[[300,251],[300,51]],"320x252_2ndBox":[[300,252],[300,52]],"320x250_lazyloadedBox":[[300,250],[300,50]],"320x51_bottom":[[300,58],[320,58],[300,158],[320,158],[300,258],[300,608]],"320x50_mobileInstream":[[320,50],[300,250]],"320x51_mobileInstream":[[320,51],[300,251]],"320x52_mobileInstream":[[320,52],[300,252]],"320x53_mobileInstream":[[320,53],[300,253]],"320x54_mobileInstream":[[320,54],[300,254]],"300x250_nyrHPtop":[[300,250],[300,600],[300,1050],[728,92]],"300x250_nyrHPbottom":[[300,251],[300,601],[728,93]],"970x418_top":[[970,418],[970,250],[980,300],[970,90],[970,66],[728,92],[88,31],[62,88],[196,31]]}}}},"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.aam=function(e,t,n){"use strict";var a=294,i="aam_uuid",r="aamconde",o={pKey:"u",pValue:null,refresh:g},s={pKey:"aamVals",pValue:null,refresh:f,noKey:!0},d=function(e){var t;return n.info(h.name+" limit reached.  Truncating",[{limit:a,length:e.length,str:e}]),e=("trunc|"+e).substr(0,a-6),t=e.lastIndexOf("|"),e.substr(0,t)+";"},l=function(){var e=t.get("params").u.defaultValue,n="";return n=CN.cookie.get(i),""!==n&&-1===e.indexOf(n)&&(e=n+"|"+e),e.length<=a?e:d(e)},g=function(){var e="",t="";return t=CN.cookie.get(i),""!==t&&-1===e.indexOf(t)&&(e=t+"|"+e+";"),e.length<=a?e:d(e)},f=function(){var e="",t="";return e=CN.cookie.get(r),""!==e&&(t=e+";"),t},c=function(e){var t,a=!1;for(t=0;t<h.requires.length;t++)"CN Ad Yieldex"===h.requires[t]&&(a=!0);o.pValue=a?l(e):g(e),s.pValue=f(e),n.info(h.name+" assembled",[{uvalue:o.pValue,aamskw:s.pValue}])},p=function(e){var t=0,n=e.modifies,a=h.requires,i=null;if(n&&n.length&&a&&a.length)for(t=0;t<a.length;t+=1)if(i=a[t],-1!==n.indexOf(i)||i===e.name)return!0;return!1},u=function(t){var n=0,a=h.callbacks.length;for(h.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[h,t]),n=0;a>n;n+=1)h.callbacks[n].func.apply(h.callbacks[n].scope||null,h.callbacks[n].args||[])},m=function(e){var t=null,a=e.queue,i=a.length-1,r=function(){c(),u({addparam:[s,o]})};for(i=a.length-1;i>=0;i-=1)if(t=a[i],t!==h&&p(t)&&(n.info(h.name+" found dependency: "+t.name,["Pushing to callbacks array"]),!t.isFinished))return t.callbacks.push({func:r,args:null,scope:null});r()},h={init:m,name:"CN Ad Adobe Audience Manager",modifies:["common.params"],requires:[],callbacks:[],isFinished:!1},v=function(){t.register(h)};v(h)}(jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.arsaccelerator=function(e,t,n){var a=!1,i=location.protocol||"http:",r=800,o="//dff7tx5c2qbxc.cloudfront.net/hot/",s=function(){var t=!1;try{t=e.parseJSON(e('meta[name="parsely-page"]').attr("content")).link}catch(s){t=!1}if(!t)try{t=e.parseJSON(e('script[type="application/ld+json"]').html()).url}catch(s){t=!1}if(!t)try{t=e('link[rel="canonical"]').attr("href")}catch(s){return t=!1,l(!1),n.info(f.name+":  plugin disabled - metadata not found."),!1}return e.ajax({url:i+o+CN.dart.get("site")+"/"+encodeURIComponent(t),dataType:"script",timeout:r,error:function(e,t){l(!1),n.info(f.name+" plugin disabled",["script "+t,"using site code "])},cache:!0,success:function(){a=!0,g()},complete:function(){n.info(f.name+" Ars Accelerator call complete")}}),!0},d=function(){CN.ad.arsaccelerator.kws=[],s(),setTimeout(function(){f.isFinished||a||g()},5e3)},l=function(t){var n,a=f.callbacks.length;for(f.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[f,t]),n=0;a>n;n++)f.callbacks[n].func.apply(f.callbacks[n].scope||null,f.callbacks[n].args||[])},g=function(){var e,a,i=CN.ad.arsaccelerator.kws,r=[];if(!i)return n.warn("Ars Accelerator Request Timed Out",["Setting plugin to finished to proceed to render ads"]),l(!1);for(a=i.length,e=0;a>e;e++)r.push(i[e]);l({ad:{kws:t.get("ad").kws.concat(r)}})},f={init:d,name:"CN Ad Ars Accelerator kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:!1},c=function(){t.register(f)};return c(),{tags:!1}}(jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";CN.ad=CN.ad||{},CN.ad.proximic=function(e,t){"use strict";var n=[],a=function(){t.timer.mark("ProximicInit"),o()},i=function(t){var n,a=d.callbacks.length;for(d.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[d,t]),n=0;a>n;n++)d.callbacks[n].func.apply(d.callbacks[n].scope||null,d.callbacks[n].args||[])},r=function(){var e,t,a=CN.ad.proximic.pxData;if("undefined"!=typeof a&&"undefined"!=typeof a.data&&(t=a.data.length),"undefined"!=typeof t){for(e=0;t>e;e++)n.push(a.data[e]);return!0}return!1},o=function(){var e=CN.ad.proximic.pxData;return"undefined"==typeof e?(t.timer.mark("ProximicDataNotReadyTryAgain"),void setTimeout(function(){t.timer.mark("ProximicSecondTry"),s()},800)):"undefined"==typeof e.data?void t.timer.mark("ProximicReturnedError999999"):void s()},s=function(){return r()?(t.timer.mark("ProximicSuccess"),void i({ad:{kws:t.get("ad").kws.concat(n)}})):void t.timer.mark("ProximicReturnedError999999")},d={init:a,name:"CN Ad Proximic",modifies:["common.params"],requires:[],callbacks:[],isFinished:!1},l=function(){t.register(d)};return t.timer.mark("ProximicLoaded"),l(),t.timer.mark("ProximicRegistered"),{tags:!1}}(jQuery,CN.dart,CN.debug),CN.ad=CN.ad||{},CN.ad.viewableRefresh=function(e,t,n){"use strict";var a,i,r,o,s,d,l,g,f=0,c=.5,p=250,u=0,m=!1,h=!1,v="",y=function(){},w=["1x1","1x2"],b=0,k=window,x=document.documentElement,T=[],C=[],A="",_=5e3,S=function(e,t,n,a){var i=1,r=e.getBoundingClientRect?e.getBoundingClientRect():{},o="number"==typeof t?t||1:1,s=r.height*o||n,d=r.width*o||a;return{top:(r.top||0)+(s-i),left:(r.left||0)+(d-i),bottom:(r.bottom||0)-(s+i),right:(r.right||0)-(d+i),height:r.height||n,width:r.width||a}},z=function(){var e=x.clientWidth,t=k.innerWidth;return t>e?t:e},D=function(){var e=x.clientHeight,t=k.innerHeight;return t>e?t:e},N=function(e,t,n,a){var i=S(e,t,n,a);return!!i&&i.height>0&&i.width>0&&i.bottom>=0&&i.top<=D()&&i.right>=0&&i.left<=z()},R=function(e){var t=e.getBoundingClientRect();return(t.top>=0&&t.left>=0&&t.top)<=(window.innerHeight||document.documentElement.clientHeight)+u},I=function(){return i=t.get("configData").refresh,r=t.getCommon(),"undefined"==typeof i?(n.info(B.name+" config file is too old ",[{}]),n.info(B.name+" plugin not supported ",[{}]),h=!0,this):(v="CN Ad: "+i.type+" Refresh ",a=P(),f=i.returnRefreshDelay&&"undefined"!=typeof i.returnRefreshDelay?i.returnRefreshDelay:f,_=i.firstTimeDelay&&"undefined"!=typeof i.firstTimeDelay?i.firstTimeDelay:_,u=i.lazyOffset&&"undefined"!=typeof i.lazyOffset?i.lazyOffset:u,void(i.inView&&"undefined"!=typeof i.inView&&(c=i.inView.viewableThreshold&&"undefined"!=typeof i.inView.viewableThreshold?i.inView.viewableThreshold:c)))},P=function(){var e=i.refreshTimeMsec;if("undefined"!=typeof i.overrides&&"undefined"!=typeof i.overrides.refresh&&"undefined"!=typeof i.overrides.refresh.zone){s=r.zone.replace(/[^\w\s]/gi,"");for(var t in i.overrides.refresh.zone)s===t&&(e=i.overrides.refresh.zone[t].dartRefreshTimeMsec,m=!0)}return e&&e>0&&(n.info(B.name+" initialized to "+e+"ms",[]),m&&n.info(B.name+" enabled by zone ",[])),e},E=function(e){var t;K(),e&&"undefined"!=typeof e&&(clearInterval(A),t=a,e=0,A=setInterval(function(){E(e)},t))},q=function(e){var t=e?e:a;return A||(a>0?A=i.lazyLoad===!0?setInterval(function(){E(e)},t):setInterval(function(){E(e)},t):0===a&&i.lazyLoad===!0&&O()),this},O=function(){var a;if(C=[],C=V(),a=C.length,a>0)for(var i=0;a>i;i++){var r=C[i];"undefined"!=typeof e("#"+r.adplacement).get(0)&&r&&R(e("#"+r.adplacement).get(0))&&!r.lazyDisplay&&(t.refresh(r.adname,{lazyload:r.adname}),n.info(B.name+" lazy load",[r.adname]),y(r),C.splice(i,1),a=C.length,i--)}else e(k).off("scroll",F),document.removeEventListener||document.detachEvent("onscroll",F),clearTimeout(o)},M=function(){return l=(new Date).getTime(),clearInterval(A),A=!1,this},j=function(){return document[d]?M():q(),!1},F=function(){clearTimeout(o),o=setTimeout(O,p)},L=function(){var t;"undefined"!=typeof document.hidden?(d="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(d="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(d="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(d="webkitHidden",t="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof d&&e(document).on(t,j),e(k).on("focus",function(){var e,t,n=0;(l||f)&&(l&&(e=l-g,t=a-e,n=t),f&&(n=f)),q(n)}),"undefined"!=typeof i.lazyLoad&&i.lazyLoad&&(e(k).on("scroll",F),e(k).on("load",F)),document.addEventListener?e(k).on("blur",function(){M()}):(document.onfocusout=function(e){if(void 0===e){var t=event;null===t.toElement&&M()}},document.attachEvent("onscroll",F),document.attachEvent("onload",F)),T=V(),n.info(B.name+" initialized to refesh after "+f+"ms on focus",[])},V=function(){var e,n,a,r=t.getGPTAds(),o=[];for(e=0;e<r.length;e++)n=r[e].adsize[0]+"x"+r[e].adsize[1],"inView"===i.type?(a=i.inView.slotSizes,a&&a.length?-1!==a.indexOf(n)&&(o.push(r[e]),C.push(r[e])):(o.push(r[e]),C.push(r[e]))):-1===w.indexOf(n)&&(o.push(r[e]),C.push(r[e]));return o},G=function(t){I(t),h||(("inView"===i.type||"active"===i.type)&&e(function(){L(),setTimeout(function(){q()},_)}),n.info(B.name+" assembled",[{}]))},U=function(){return"undefined"!=typeof d&&document[d]===!0?!1:"undefined"!=typeof document.hasFocus&&document.hasFocus()?!0:!1},K=function(){var a,o=[];if(g=(new Date).getTime(),!U())return this;if(r.configData.maxRefreshes&&"undefined"!=typeof r.configData.maxRefreshes&&(r.configData.maxRefreshes===b||b>r.configData.maxRefreshes))return M(),n.info(B.name+"Max refreshes reached. Stopping refresh",[]),this;for(0===T.length&&(T=V()),a=0;a<T.length;a+=1)"active"===i.type?o.push(T[a].adname):N(e("#"+T[a].adplacement).get(0),c,T[a].adsize[1],T[a].adsize[0])&&o.push(T[a].adname);return n.info(B.name+" refreshing placements",[o]),o.length>0&&t.refresh(o),b+=1,this},Q=function(t){var n=0,a=B.callbacks.length;for(B.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[B,t]),n=0;a>n;n+=1)B.callbacks[n].func.apply(B.callbacks[n].scope||null,B.callbacks[n].args||[])},H=function(){g=(new Date).getTime();var e=function(){G(),Q({})};e()},B={init:H,name:"CN Ad Refresh",modifies:[],requires:[],callbacks:[],isFinished:!1},$=function(){t.register(B)};return $(B),{refresh:K,start:q,stop:M,isWinVisible:U,inViewportFirstLoad:R}}(jQuery,CN.dart,CN.debug);
//# sourceMappingURL=/ads/js/cn.dart.bun.min.js.map